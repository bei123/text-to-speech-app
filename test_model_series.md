# 模型系列排序功能测试

## 测试环境准备

### 1. 数据库准备
确保数据库中包含以下测试数据：
```sql
-- 插入测试模型数据
INSERT INTO models (value, label, series, avatar_url) VALUES
('test_model1', '测试模型1', '测试系列A', '/avatars/test1.png'),
('test_model2', '测试模型2', '测试系列A', '/avatars/test2.png'),
('test_model3', '测试模型3', '测试系列B', '/avatars/test3.png'),
('test_model4', '测试模型4', '测试系列B', '/avatars/test4.png'),
('test_model5', '测试模型5', '其他', '/avatars/test5.png');
```

## 测试步骤

### 1. 后端API测试
```bash
# 测试模型API是否返回正确的数据
curl -X GET https://backend.2000gallery.art:5000/models
```

**预期结果**：
- 返回的模型数据应包含 `series` 字段
- 模型应按 `series` 和 `label` 排序

### 2. 前端功能测试

#### 2.1 模型选择模态框测试
1. 打开应用主页
2. 点击"选择模型"输入框
3. 验证模态框是否正确显示

**预期结果**：
- 模型应按系列分组显示
- 每个系列有清晰的标题
- 系列标题使用绿色主题色
- 模型项目有适当的缩进

#### 2.2 模型选择功能测试
1. 在模型选择模态框中点击任意模型
2. 验证模型是否正确选择
3. 验证选择的模型信息是否正确显示

**预期结果**：
- 模态框关闭
- 选择的模型名称显示在输入框中
- 模型头像正确更新

#### 2.3 系列排序测试
1. 检查模型是否按系列正确排序
2. 验证"其他"分组是否正确显示没有系列信息的模型

**预期结果**：
- 系列按字母顺序排序
- 同一系列内模型按标签字母顺序排序
- 没有系列信息的模型显示在"其他"分组

### 3. 兼容性测试

#### 3.1 历史记录页面测试
1. 访问历史记录页面
2. 验证模型筛选功能是否正常工作

**预期结果**：
- 模型筛选下拉框正常显示
- 筛选功能正常工作

#### 3.2 现有数据兼容性测试
1. 确保现有模型数据正常工作
2. 验证没有 `series` 字段的模型是否正确处理

**预期结果**：
- 现有模型数据正常显示
- 没有系列信息的模型显示在"其他"分组

## 测试检查清单

- [ ] 后端API返回正确的模型数据
- [ ] 模型选择模态框正确显示分组
- [ ] 系列标题样式正确
- [ ] 模型选择功能正常工作
- [ ] 系列排序正确
- [ ] 历史记录页面功能正常
- [ ] 现有数据兼容性良好
- [ ] 错误处理正确

## 常见问题排查

### 1. 模型不显示分组
- 检查数据库中的 `series` 字段是否正确设置
- 检查后端API是否正确返回 `series` 字段

### 2. 样式显示异常
- 检查CSS样式是否正确加载
- 检查浏览器控制台是否有错误

### 3. 模型选择失败
- 检查前端组件的事件处理是否正确
- 检查模型数据结构是否完整 